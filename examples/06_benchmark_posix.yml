config:
  log_ansible_output: false
  results_print: false
  results_save_to_file: true

Default: &default
  type: FioFullPosix
  repetitions: 5
  fio:
    runtime_in_s: 120

benchmarks:
  benchmark_isilon:
    <<: *default
    destination:
      host: master_vm_1
      target_folder: /mnt/isilon

  benchmark_netapp:
    <<: *default
    destination:
      host: master_vm_1
      target_folder: /mnt/netapp

  benchmark_irods_fuse_on_isilon:
    <<: *default
    destination:
      host: irods_client
      target_folder: /mnt/volume_under_test/irods-fuse

    pre_tasks:
      - playbook: setup_irods_server.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/isilon
      - playbook: setup_irods_fuse_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test
          irods_server_host: "132.230.223.139"
          irods_host_volume_owner_uid: "1000"
    post_tasks:
      - playbook: cleanup_irods_server.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/isilon
      - playbook: cleanup_irods_fuse_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test

  benchmark_irods_fuse_on_netapp:
    <<: *default
    destination:
      host: irods_client
      target_folder: /mnt/volume_under_test/irods-fuse

    pre_tasks:
      - playbook: setup_irods_server.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/netapp
      - playbook: setup_irods_fuse_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test
          irods_server_host: "132.230.223.139"
          irods_host_volume_owner_uid: "1000"
    post_tasks:
      - playbook: cleanup_irods_server.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/netapp
      - playbook: cleanup_irods_fuse_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test

  benchmark_irods_davrods_on_isilon:
    <<: *default
    destination:
      host: irods_client
      target_folder: /mnt/volume_under_test/irods-webdav

    pre_tasks:
    - playbook: setup_irods_server_with_davrods.yml
      host: irods_server
      extra_vars:
        irods_host_volume: /mnt/isilon
    - playbook: setup_irods_webdav_client.yml
      host: irods_client
      extra_vars:
        irods_host_volume: /mnt/volume_under_test
        irods_server_host: "132.230.223.139"
        irods_host_volume_owner_uid: "1000"

    post_tasks:
      - playbook: cleanup_irods_webdav_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test
      - playbook: cleanup_irods_server_with_davrods.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/isilon

  benchmark_irods_davrods_on_netapp:
    <<: *default
    destination:
      host: irods_client
      target_folder: /mnt/volume_under_test/irods-webdav

    pre_tasks:
    - playbook: setup_irods_server_with_davrods.yml
      host: irods_server
      extra_vars:
        irods_host_volume: /mnt/netapp
    - playbook: setup_irods_webdav_client.yml
      host: irods_client
      extra_vars:
        irods_host_volume: /mnt/volume_under_test
        irods_server_host: "132.230.223.139"
        irods_host_volume_owner_uid: "1000"

    post_tasks:
      - playbook: cleanup_irods_webdav_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test
      - playbook: cleanup_irods_server_with_davrods.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/netapp

  benchmark_irods_fuse_on_s3:
    <<: *default
    destination:
      host: irods_client
      target_folder: /mnt/volume_under_test/irods-fuse

    pre_tasks:
      - playbook: setup_irods_server_s3.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/isilon
      - playbook: setup_irods_fuse_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test
          irods_server_host: "132.230.223.139"
          irods_host_volume_owner_uid: "1000"
    post_tasks:
      - playbook: cleanup_irods_server.yml
        host: irods_server
        extra_vars:
          irods_host_volume: /mnt/isilon
      - playbook: cleanup_irods_fuse_client.yml
        host: irods_client
        extra_vars:
          irods_host_volume: /mnt/volume_under_test